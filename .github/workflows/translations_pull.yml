name: Pull translations

on:
  workflow_dispatch:

jobs:
  build:
    runs-on: ubuntu-latest
    strategy:
      fail-fast: false
      matrix:
        ruby-version: [2.7]

    steps:
      - name: "Run action"
        run: |
          curl -o- https://raw.githubusercontent.com/transifex/cli/master/install.sh | bash
          echo "Installed yay"
          ./tx init
          echo "[main]" > ./.tx/config
          echo "token = ${{ secrets.TX_TOKEN }}"  >> ./.tx/config
          echo "host = https://rest.api.transifex.com" >> ./.tx/config

          cat ./.tx/config
          ./tx pull
          git status
